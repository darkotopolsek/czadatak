<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" th:href="@{/style.css}"/>
        <title>Users Manager</title>
    </head>
    <body>
        <div align="center">
            <h1>User List</h1>
            <a href="/new">Create New User</a>
            <br></br>
            <table border="1" cellpadding="20" style="table-layout:fixed">
                <thead>
                    <tr>
                        <th>User ID</th>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Birthday</th>
                        <th>E-mail</th>
                        <th>Photo Thumbnail</th>
                        <th>Actions</th>

                    </tr>
                </thead>
                <tbody style="table-layout:fixed">
                    <tr th:each="user : ${listUsers}">
                        <td th:text="${user.id}">User ID</td>
                        <td th:text="${user.name}">Name</td>
                        <td th:text="${user.surname}">Surname</td>
                        <td th:text="${user.dob}">Birthday</td>
                        <td th:text="${user.email}">E-mail</td>

                        <td align="center"><img th:attr="onclick=|openImage('${user.photosImagePath}')|"
                                                th:src="${user.thumbnailPhotosImagePath}" width="60" height="60"</img></td>
                        
                            <td>
                                <a th:href="@{'/edit/' + ${user.id}}">Edit</a>
                                &nbsp;&nbsp;&nbsp;
                                <a th:href="@{'/delete/' + ${user.id}}" onclick="return confirm('Are you sure you want to delete this User');">Delete</a>
                            </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <script>
            function openImage(imagePath) {
                window.open(imagePath);
            }
        </script>
    </body>
</html>